{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = onTouchMove;\n\nvar _ssrWindow = require(\"ssr-window\");\n\nvar _dom = _interopRequireDefault(require(\"../../../utils/dom\"));\n\nvar _utils = require(\"../../../utils/utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction onTouchMove(event) {\n  var document = (0, _ssrWindow.getDocument)();\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  var targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  var pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  var pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n\n    if (data.isTouched) {\n      (0, _utils.extend)(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = (0, _utils.now)();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && (0, _dom.default)(e.target).is(data.formElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  var diffX = touches.currentX - touches.startX;\n  var diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2)) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    var touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  var diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  var disableParentSwiper = true;\n  var resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + Math.pow(-swiper.minTranslate() + data.startTranslate + diff, resistanceRatio);\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - Math.pow(swiper.maxTranslate() - data.startTranslate - diff, resistanceRatio);\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (params.freeMode) {\n    // Velocity\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: (0, _utils.now)()\n    });\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","map":{"version":3,"sources":["C:/Users/hasss/Documents/ReactProjects/GLMarketplace/marketplace/node_modules/swiper/cjs/components/core/events/onTouchMove.js"],"names":["exports","__esModule","default","onTouchMove","_ssrWindow","require","_dom","_interopRequireDefault","_utils","obj","event","document","getDocument","swiper","data","touchEventsData","params","touches","rtl","rtlTranslate","enabled","e","originalEvent","isTouched","startMoving","isScrolling","emit","isTouchEvent","type","targetTouch","targetTouches","changedTouches","pageX","pageY","preventedByNestedSwiper","startX","startY","allowTouchMove","allowClick","extend","currentX","currentY","touchStartTime","now","touchReleaseOnEdges","loop","isVertical","translate","maxTranslate","minTranslate","isMoved","activeElement","target","is","formElements","allowTouchCallbacks","length","diffX","diffY","threshold","Math","sqrt","pow","touchAngle","isHorizontal","atan2","abs","PI","cssMode","cancelable","preventDefault","touchMoveStopPropagation","nested","stopPropagation","loopFix","startTranslate","getTranslate","setTransition","animating","$wrapperEl","trigger","allowMomentumBounce","grabCursor","allowSlideNext","allowSlidePrev","setGrabCursor","diff","touchRatio","swipeDirection","currentTranslate","disableParentSwiper","resistanceRatio","resistance","allowThresholdMove","followFinger","freeMode","watchSlidesProgress","watchSlidesVisibility","updateActiveIndex","updateSlidesClasses","velocities","push","position","time","updateProgress","setTranslate"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = onTouchMove;\n\nvar _ssrWindow = require(\"ssr-window\");\n\nvar _dom = _interopRequireDefault(require(\"../../../utils/dom\"));\n\nvar _utils = require(\"../../../utils/utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction onTouchMove(event) {\n  var document = (0, _ssrWindow.getDocument)();\n  var swiper = this;\n  var data = swiper.touchEventsData;\n  var params = swiper.params,\n      touches = swiper.touches,\n      rtl = swiper.rtlTranslate,\n      enabled = swiper.enabled;\n  if (!enabled) return;\n  var e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  var targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  var pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  var pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    // isMoved = true;\n    swiper.allowClick = false;\n\n    if (data.isTouched) {\n      (0, _utils.extend)(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = (0, _utils.now)();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && (0, _dom.default)(e.target).is(data.formElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  var diffX = touches.currentX - touches.startX;\n  var diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(Math.pow(diffX, 2) + Math.pow(diffY, 2)) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    var touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  var diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  var disableParentSwiper = true;\n  var resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + Math.pow(-swiper.minTranslate() + data.startTranslate + diff, resistanceRatio);\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - Math.pow(swiper.maxTranslate() - data.startTranslate - diff, resistanceRatio);\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode || params.watchSlidesProgress || params.watchSlidesVisibility) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (params.freeMode) {\n    // Velocity\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: (0, _utils.now)()\n    });\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}"]},"metadata":{},"sourceType":"script"}